{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u0410\\u043B\\u0435\\u043A\\u0441\\u0435\\u0439\\\\dev\\\\react-mesto-api-full-gha\\\\frontend\\\\src\\\\components\\\\App.js\",\n  _s = $RefreshSig$();\nimport '../index.css';\nimport React from 'react';\nimport Header from './Header.js';\nimport Main from './Main.js';\nimport Footer from './Footer.js';\nimport ImagePopup from './ImagePopup.js';\nimport EditProfilePopup from './EditProfilePopup.js';\nimport EditAvatarPopup from './EditAvatarPopup.js';\nimport AddPlacePopup from './AddPlacePopup.js';\nimport api from '../utils/Api';\nimport auth from '../utils/auth';\nimport ProtectedRoute from './ProtectedRoute';\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\nimport InfoTooltip from './InfoTooltip.js';\nimport Login from './Login.js';\nimport Register from './Register.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\n  const [isImgPopupOpen, setIsImgPopupOpen] = React.useState(false);\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCardsData] = React.useState([]);\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [isSuccesLogin, setIsSuccesLogin] = React.useState(false);\n  const [authUserEmail, setAuthUserEmail] = React.useState(null);\n  const history = useHistory();\n  React.useEffect(() => {\n    if (loggedIn) {\n      Promise.all([api.getUserInfo(), api.getCardsInfo()]).then(([userData, initialCards]) => {\n        console.log(userData.user);\n        setCurrentUser(userData.user);\n        setCardsData(initialCards.cards);\n      }).catch(err => console.log(err));\n    }\n  }, [loggedIn]);\n  React.useEffect(() => {\n    handleCheckToken();\n  }, []);\n  React.useEffect(() => {\n    loggedIn && history.push('/');\n  }, [loggedIn]);\n  function handleInfoTooltipOpen() {\n    setIsInfoTooltipOpen(true);\n  }\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true);\n  }\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true);\n  }\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true);\n  }\n  function closeAllPopups() {\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setEditAvatarPopupOpen(false);\n    setIsImgPopupOpen(false);\n    setIsInfoTooltipOpen(false);\n  }\n  function handleCardClick(card) {\n    setIsImgPopupOpen(true);\n    setSelectedCard(card);\n  }\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.changeLikeCardStatus(card._id, isLiked).then(newCard => {\n      setCardsData(state => state.map(c => c._id === card._id ? newCard : c));\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n  function handleCardDelete(card) {\n    api.deleteCard(card._id).then(() => {\n      setCardsData(state => state.filter(elem => elem._id !== card._id));\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n  function handleUpdateUser(newInfo) {\n    api.setUserInfo(newInfo).then(userData => {\n      setCurrentUser(userData.user);\n      closeAllPopups();\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n  function handleUpdateAvatar(newAvatar) {\n    api.setUserAvatar(newAvatar).then(userData => {\n      setCurrentUser(userData.user);\n      closeAllPopups();\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n  function handleAddPlaceSubmit(place) {\n    api.addCard(place).then(newCard => {\n      setCardsData([newCard.card, ...cards]);\n      closeAllPopups();\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n  function handleSignOut() {\n    setLoggedIn(false);\n    localStorage.removeItem('jwt');\n    history.push('/sign-in');\n  }\n  function handleRegistration(email, password) {\n    auth.register(email, password).then(data => {\n      setIsSuccesLogin(true);\n      history.push('/sign-in');\n    }).catch(err => {\n      console.log(err);\n      setIsSuccesLogin(false);\n    }).finally(() => {\n      handleInfoTooltipOpen();\n    });\n  }\n  function handleAuth(email, password) {\n    setAuthUserEmail(email);\n    auth.auth(email, password).then(data => {\n      setLoggedIn(true);\n      localStorage.setItem('jwt', data.token);\n      history.push('/');\n    }).catch(err => {\n      console.log(err);\n      setIsSuccesLogin(false);\n      handleInfoTooltipOpen();\n    });\n  }\n  const handleCheckToken = () => {\n    const token = localStorage.getItem('jwt');\n    if (token) {\n      auth.checkToken(token).then(response => {\n        if (response) {\n          setAuthUserEmail(response.user.email);\n          setLoggedIn(true);\n          history.push('/');\n        }\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  };\n  const isOpen = isEditAvatarPopupOpen || isEditProfilePopupOpen || isAddPlacePopupOpen || isImgPopupOpen;\n  React.useEffect(() => {\n    function closeByEscape(evt) {\n      if (evt.key === 'Escape') {\n        closeAllPopups();\n      }\n    }\n    if (isOpen) {\n      document.addEventListener('keydown', closeByEscape);\n      return () => {\n        document.removeEventListener('keydown', closeByEscape);\n      };\n    }\n  }, [isOpen]);\n  return /*#__PURE__*/_jsxDEV(CurrentUserContext.Provider, {\n    value: currentUser,\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      loggedIn: loggedIn,\n      onSignOut: handleSignOut,\n      authUserEmail: authUserEmail\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Switch, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/sign-up\",\n        children: /*#__PURE__*/_jsxDEV(Register, {\n          onRegistration: handleRegistration,\n          loggedIn: loggedIn\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/sign-in\",\n        children: /*#__PURE__*/_jsxDEV(Login, {\n          onAuth: handleAuth,\n          loggedIn: loggedIn,\n          onCheckToken: handleCheckToken\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n        component: Main,\n        path: \"/\",\n        loggedIn: loggedIn,\n        cards: cards,\n        onEditProfile: handleEditProfileClick,\n        onAddPlace: handleAddPlaceClick,\n        onEditAvatar: handleEditAvatarClick,\n        onCardClick: handleCardClick,\n        onCardLike: handleCardLike,\n        onCardDelete: handleCardDelete\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        children: loggedIn ? /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 33\n        }, this) : /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/sign-in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 55\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(EditProfilePopup, {\n      isOpen: isEditProfilePopupOpen,\n      onClose: closeAllPopups,\n      onUpdateUser: handleUpdateUser\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(AddPlacePopup, {\n      isOpen: isAddPlacePopupOpen,\n      onClose: closeAllPopups,\n      onAddPlace: handleAddPlaceSubmit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(EditAvatarPopup, {\n      isOpen: isEditAvatarPopupOpen,\n      onClose: closeAllPopups,\n      onUpdateAvatar: handleUpdateAvatar\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ImagePopup, {\n      card: selectedCard,\n      isOpen: isImgPopupOpen,\n      onClose: closeAllPopups\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(InfoTooltip, {\n      isopen: isInfoTooltipOpen,\n      onClose: closeAllPopups,\n      isSucces: isSuccesLogin\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 225,\n    columnNumber: 9\n  }, this);\n}\n_s(App, \"7w95bid8y/1qL0VV67+K2lyxqQQ=\", false, function () {\n  return [useHistory];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","Header","Main","Footer","ImagePopup","EditProfilePopup","EditAvatarPopup","AddPlacePopup","api","auth","ProtectedRoute","Route","Switch","Redirect","useHistory","InfoTooltip","Login","Register","CurrentUserContext","jsxDEV","_jsxDEV","App","_s","isEditProfilePopupOpen","setEditProfilePopupOpen","useState","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isImgPopupOpen","setIsImgPopupOpen","isInfoTooltipOpen","setIsInfoTooltipOpen","selectedCard","setSelectedCard","currentUser","setCurrentUser","cards","setCardsData","loggedIn","setLoggedIn","isSuccesLogin","setIsSuccesLogin","authUserEmail","setAuthUserEmail","history","useEffect","Promise","all","getUserInfo","getCardsInfo","then","userData","initialCards","console","log","user","catch","err","handleCheckToken","push","handleInfoTooltipOpen","handleEditProfileClick","handleAddPlaceClick","handleEditAvatarClick","closeAllPopups","handleCardClick","card","handleCardLike","isLiked","likes","some","i","_id","changeLikeCardStatus","newCard","state","map","c","handleCardDelete","deleteCard","filter","elem","handleUpdateUser","newInfo","setUserInfo","handleUpdateAvatar","newAvatar","setUserAvatar","handleAddPlaceSubmit","place","addCard","handleSignOut","localStorage","removeItem","handleRegistration","email","password","register","data","finally","handleAuth","setItem","token","getItem","checkToken","response","isOpen","closeByEscape","evt","key","document","addEventListener","removeEventListener","Provider","value","children","onSignOut","fileName","_jsxFileName","lineNumber","columnNumber","path","onRegistration","onAuth","onCheckToken","component","onEditProfile","onAddPlace","onEditAvatar","onCardClick","onCardLike","onCardDelete","to","onClose","onUpdateUser","onUpdateAvatar","isopen","isSucces","_c","$RefreshReg$"],"sources":["C:/Users/Алексей/dev/react-mesto-api-full-gha/frontend/src/components/App.js"],"sourcesContent":["import '../index.css';\nimport React from 'react';\nimport Header from './Header.js';\nimport Main from './Main.js';\nimport Footer from './Footer.js';\nimport ImagePopup from './ImagePopup.js';\nimport EditProfilePopup from './EditProfilePopup.js';\nimport EditAvatarPopup from './EditAvatarPopup.js';\nimport AddPlacePopup from './AddPlacePopup.js';\nimport api from '../utils/Api';\nimport auth from '../utils/auth';\nimport ProtectedRoute from './ProtectedRoute';\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\nimport InfoTooltip from './InfoTooltip.js';\nimport Login from './Login.js';\nimport Register from './Register.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\n\nfunction App() {\n\n    const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\n    const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\n    const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\n    const [isImgPopupOpen, setIsImgPopupOpen] = React.useState(false);\n    const [isInfoTooltipOpen, setIsInfoTooltipOpen] = React.useState(false);\n\n    const [selectedCard, setSelectedCard] = React.useState({});\n    const [currentUser, setCurrentUser] = React.useState({});\n    const [cards, setCardsData] = React.useState([]);\n    const [loggedIn, setLoggedIn] = React.useState(false);\n    const [isSuccesLogin, setIsSuccesLogin] = React.useState(false);\n    const [authUserEmail, setAuthUserEmail] = React.useState(null);\n\n    const history = useHistory();\n\n\n    React.useEffect(() => {\n        if(loggedIn) {\n        Promise.all([api.getUserInfo(), api.getCardsInfo()])\n          .then(([userData, initialCards]) => {\n            console.log(userData.user);\n            setCurrentUser(userData.user);\n            setCardsData(initialCards.cards)\n          })\n          .catch((err) => console.log(err))}\n      }, [loggedIn]);\n\n    React.useEffect(() => {\n        handleCheckToken();\n    }, []);\n\n    React.useEffect(() => {\n        loggedIn && history.push('/');\n      }, [loggedIn]);\n\n    function handleInfoTooltipOpen() {\n        setIsInfoTooltipOpen(true);\n    }\n\n    function handleEditProfileClick() {\n        setEditProfilePopupOpen(true);\n    }\n\n    function handleAddPlaceClick() {\n        setAddPlacePopupOpen(true);\n    }\n\n    function handleEditAvatarClick() {\n        setEditAvatarPopupOpen(true);\n    }\n\n    function closeAllPopups() {\n        setEditProfilePopupOpen(false);\n        setAddPlacePopupOpen(false);\n        setEditAvatarPopupOpen(false);\n        setIsImgPopupOpen(false);\n        setIsInfoTooltipOpen(false);\n    }\n\n    function handleCardClick(card) {\n        setIsImgPopupOpen(true);\n        setSelectedCard(card);\n    }\n\n    function handleCardLike(card) {\n        const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n        api.changeLikeCardStatus(card._id, isLiked)\n            .then((newCard) => {\n                setCardsData((state) => state.map((c) => c._id === card._id ? newCard : c));\n            })\n\n            .catch((err) => {\n                console.log(err);\n            })\n    }\n\n    function handleCardDelete(card) {\n        api.deleteCard(card._id)\n            .then(() => {\n                setCardsData((state) => state.filter((elem) => elem._id !== card._id));\n            })\n\n            .catch((err) => {\n                console.log(err);\n            })\n    }\n\n    function handleUpdateUser(newInfo) {\n        api.setUserInfo(newInfo)\n            .then((userData) => {\n                setCurrentUser(userData.user);\n                closeAllPopups();\n            })\n\n            .catch((err) => {\n                console.log(err);\n            })\n\n    }\n\n    function handleUpdateAvatar(newAvatar) {\n        api.setUserAvatar(newAvatar)\n            .then((userData) => {\n                setCurrentUser(userData.user);\n                closeAllPopups();\n            })\n\n            .catch((err) => {\n                console.log(err);\n            })\n    }\n\n    function handleAddPlaceSubmit(place) {\n        api.addCard(place)\n            .then((newCard) => {\n                setCardsData([newCard.card, ...cards]);\n                closeAllPopups();\n            })\n\n            .catch((err) => {\n                console.log(err);\n            })\n    }\n\n    function handleSignOut() {\n        setLoggedIn(false);\n        localStorage.removeItem('jwt');\n        history.push('/sign-in');\n    }\n\n    function handleRegistration(email, password) {\n        auth.register(email, password)\n            .then(\n                (data) => {\n                    setIsSuccesLogin(true);\n                    history.push('/sign-in');\n                }\n            )\n\n            .catch((err) => {\n                console.log(err);\n                setIsSuccesLogin(false);\n            })\n\n            .finally(() => {\n                handleInfoTooltipOpen();\n            })\n    }\n\n    function handleAuth(email, password) {\n        setAuthUserEmail(email);\n        auth.auth(email, password)\n            .then(\n                (data) => {\n                    setLoggedIn(true);\n                    localStorage.setItem('jwt', data.token);\n                    history.push('/');\n                }\n            )\n\n            .catch((err) => {\n                console.log(err);\n                setIsSuccesLogin(false);\n                handleInfoTooltipOpen();\n            })\n    }\n\n    const handleCheckToken = () => {\n        const token = localStorage.getItem('jwt');\n        if (token) {\n            auth.checkToken(token)\n                .then((response) => {\n                    if (response) {\n                        setAuthUserEmail(response.user.email);\n                        setLoggedIn(true);\n                        history.push('/');\n                    }\n                })\n\n                .catch((err) => {\n                    console.log(err);\n                });\n        }\n    };\n\n    const isOpen = isEditAvatarPopupOpen || isEditProfilePopupOpen || isAddPlacePopupOpen || isImgPopupOpen\n\n    React.useEffect(() => {\n      function closeByEscape(evt) {\n        if(evt.key === 'Escape') {\n          closeAllPopups();\n        }\n      }\n      if(isOpen) {\n        document.addEventListener('keydown', closeByEscape);\n        return () => {\n          document.removeEventListener('keydown', closeByEscape);\n        }\n      }\n    }, [isOpen]) \n\n    return (\n        <CurrentUserContext.Provider value={currentUser}>\n\n            <Header\n                loggedIn={loggedIn}\n                onSignOut={handleSignOut}\n                authUserEmail={authUserEmail}\n            />\n\n            <Switch>\n                <Route path=\"/sign-up\">\n                    <Register\n                        onRegistration={handleRegistration}\n                        loggedIn={loggedIn}\n                    />\n                </Route>\n\n                <Route path=\"/sign-in\">\n                    <Login\n                        onAuth={handleAuth}\n                        loggedIn={loggedIn}\n                        onCheckToken={handleCheckToken}\n                    />\n                </Route>\n\n                <ProtectedRoute\n                    component={Main}\n                    path=\"/\"\n                    loggedIn={loggedIn}\n                    cards={cards}\n                    onEditProfile={handleEditProfileClick}\n                    onAddPlace={handleAddPlaceClick}\n                    onEditAvatar={handleEditAvatarClick}\n                    onCardClick={handleCardClick}\n                    onCardLike={handleCardLike}\n                    onCardDelete={handleCardDelete}\n                />\n\n                <Route path=\"/\">\n                    {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\n                </Route>\n            </Switch>\n\n            <Footer />\n\n            <EditProfilePopup\n                isOpen={isEditProfilePopupOpen}\n                onClose={closeAllPopups}\n                onUpdateUser={handleUpdateUser} />\n\n            <AddPlacePopup\n                isOpen={isAddPlacePopupOpen}\n                onClose={closeAllPopups}\n                onAddPlace={handleAddPlaceSubmit} />\n\n            <EditAvatarPopup\n                isOpen={isEditAvatarPopupOpen}\n                onClose={closeAllPopups}\n                onUpdateAvatar={handleUpdateAvatar} />\n\n            <ImagePopup\n                card={selectedCard}\n                isOpen={isImgPopupOpen}\n                onClose={closeAllPopups}\n            />\n            <InfoTooltip\n                isopen={isInfoTooltipOpen}\n                onClose={closeAllPopups}\n                isSucces={isSuccesLogin}\n            />\n        </CurrentUserContext.Provider>\n    );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}